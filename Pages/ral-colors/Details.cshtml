@page "/ral-colors/{colorIdentifier}"
@using Microsoft.AspNetCore.Mvc.Localization
@using protabula_com.Models
@using protabula_com.Helpers
@model RalColorDetailsModel
@inject IViewLocalizer Localizer
@{
    var rgb = Model.Formats?.Rgb ?? (byte.MinValue, byte.MinValue, byte.MinValue);
    var cmyk = Model.Formats?.Cmyk ?? (0, 0, 0, 0);
    var categoryName = Localizer[$"Category{Model.Color.Category}"].Value;
    var request = ViewContext.HttpContext.Request;
    var baseUrl = $"{request.Scheme}://{request.Host}";

    ViewData["Title"] = $"{Model.ColorTitle} - {Localizer["TitleSuffix"].Value}";
    ViewData["MetaDescription"] = string.IsNullOrEmpty(Model.Color.Name)
    ? Localizer["MetaDescriptionBasic", Model.Color.Number, Model.Color.Hex, rgb.R, rgb.G, rgb.B, cmyk.C, cmyk.M, cmyk.Y,
    cmyk.K].Value
    : Localizer["MetaDescriptionWithName", Model.Color.Number, Model.Color.Name, Model.Color.Hex, rgb.R, rgb.G, rgb.B,
    cmyk.C, cmyk.M, cmyk.Y, cmyk.K].Value;
    ViewData["OgImage"] = $"{baseUrl}/images/ral-colors/{Model.Color.Slug}.jpg";
    ViewData["Breadcrumbs"] = new List<(string, string?, object?)>
{
(Localizer["BreadcrumbColors"].Value, "/ral-colors/Index", new Dictionary<string, string> { ["culture"] =
Model.CurrentCulture }),
(categoryName, "/ral-colors/Category", new Dictionary<string, string> { ["culture"] = Model.CurrentCulture, ["category"]
= Model.CategorySlug }),
(Model.ColorTitle, null, null)
};
}

@section Head {
    <link rel="stylesheet" href="~/css/details-page.css" asp-append-version="true" />
    <script type="application/ld+json">{
                            "@@context": "https://schema.org",
                            "@@type": "BreadcrumbList",
                            "itemListElement": [
                                { "@@type": "ListItem", "position": 1, "name": "@Localizer["BreadcrumbHome"].Value", "item": "@baseUrl/@Model.CurrentCulture" },
                                { "@@type": "ListItem", "position": 2, "name": "@Localizer["BreadcrumbColors"].Value", "item": "@baseUrl/@Model.CurrentCulture/ral-colors" },
                                { "@@type": "ListItem", "position": 3, "name": "@Model.ColorTitle" }
                            ]
                        }
                    </script>
}


<h1>@Model.ColorTitle</h1>

@{
    var richDescription = Model.Color.GetLocalizedDescription(Model.CurrentCulture)?.Replace("{0}", Model.ColorTitle);
    var colorTileModel = new ColorTileModel(
    Model.Color.Hex,
    UndertoneHex: Model.Formats?.UndertoneHex,
    Strength: Model.Formats?.Undertone.Strength ?? UndertoneStrength.None,
    OnClick: "DetailsPage.openColorPreview()",
    ClickHint: Localizer["ClickToPreview"].Value,
    NeedsDarkText: Model.Color.NeedsDarkText);
}

@if (!string.IsNullOrEmpty(richDescription))
{
    <p class="color-description color-description-rich">@richDescription</p>
}

<div class="color-hero">
    <div class="color-hero-preview">
        <partial name="Shared/_ColorTile" model="colorTileModel" />
    </div>
    <div class="color-hero-sidebar">
        <div class="sidebar-card">
            <span class="property-label">
                <span class="metric-header">
                    @Localizer["PropHue"]
                    @{
                        var hueTip = Localizer["HueTip"].Value;
                    }
                    <partial name="Shared/_InfoTooltip" model="@(hueTip, (string ?)null)" />
                </span>
            </span>
            <partial name="Shared/_HueDiagram" model="Model.Hue" />
        </div>
        <div class="sidebar-card">
            <span class="property-label">
                <span class="metric-header">
                    @Localizer["PropSaturation"]
                    @{
                        var saturationTip = Localizer["SaturationTip"].Value;
                    }
                    <partial name="Shared/_InfoTooltip" model="@(saturationTip, (string ?)null)" />
                </span>
            </span>
            <partial name="Shared/_SaturationBar" model="new SaturationBarModel(Model.Hue, Model.Saturation)" />
        </div>
        <div class="sidebar-card">
            <span class="property-label">
                <span class="metric-header">
                    @Localizer["PropLrv"]
                    @{
                        var lrvTip = Localizer["LrvTip"].Value;
                    }
                    <partial name="Shared/_InfoTooltip" model="@(lrvTip, (string ?)null)" />
                </span>
            </span>
            <partial name="Shared/_LrvBar" model="new LrvBarModel(Model.Lrv)" />
        </div>
        <div class="sidebar-card">
            <span class="property-label">RAL @Model.Color.Number HEX</span>
            <span class="property-value">@Model.Color.Hex</span>
        </div>
        <div class="sidebar-card">
            <span class="property-label">RAL @Model.Color.Number CMYK</span>
            <span class="property-value">@Model.Formats?.Cmyk.C%, @Model.Formats?.Cmyk.M%, @Model.Formats?.Cmyk.Y%, @Model.Formats?.Cmyk.K%</span>
        </div>
        <div class="sidebar-card">
            <span class="property-label">@Localizer["LabelColorFamily"]</span>
            <a asp-page="/ral-colors/Index" asp-route-culture="@Model.CurrentCulture"
                asp-route-color="@Model.Color.RootColor.ToString().ToLowerInvariant()" class="badge badge-@Model.Color.RootColor.ToString().ToLowerInvariant()">
                @Localizer[$"RootColor{Model.Color.RootColor}"]
            </a>
        </div>
        <div class="sidebar-card">
            <span class="property-label">
                <span class="metric-header">
                    @Localizer["PropTemperature"]
                    @{
                        var temperatureTip = Localizer["TemperatureTip"].Value;
                    }
                    <partial name="Shared/_InfoTooltip" model="@(temperatureTip, (string ?)null)" />
                </span>
            </span>
            <partial name="Shared/_TemperatureBadge"
                model="new TemperatureBadgeModel(Model.Temperature.Kelvin, Model.Temperature.Classification)" />
        </div>
    </div>
</div>

<partial name="_ColorTags" model="(Model.Color.UsageTags, Model.Color.MoodTags)" />

@{
    var temperatureStr = Localizer[Model.Temperature.Classification].Value.ToLowerInvariant();
    var rootColorStr = Localizer[$"RootColor{Model.Color.RootColor}"].Value;
    var categoryStr = Localizer[$"DescCategory{Model.Color.Category}"].Value;
    var undertonePhrase = Model.Formats?.Undertone.Secondary != SecondaryUndertone.None
    ? Localizer["DescUndertone", Localizer[$"Undertone{Model.Formats?.Undertone.Strength}"].Value,
    Localizer[$"UndertoneSecondary{Model.Formats?.Undertone.Secondary}"].Value.ToLowerInvariant()].Value
    : "";
}

<hr>

<section class="specular-preview-section">
    <h2>@Localizer["SpecularPreview", Model.Color.Number]</h2>
    <p class="color-technical-description">
        @Localizer["TechDescSentence1", Model.Color.Number, temperatureStr, rootColorStr, undertonePhrase, categoryStr]
        @Localizer["TechDescSentence2", Model.Color.Number, Model.Color.Hex, rgb.R, rgb.G, rgb.B]
        @Localizer[$"DescLrv{Model.LrvLevel}"]
    </p>
    <p class="text-secondary text-sm"><em>@Localizer["SpecularDisclaimer"]</em></p>

    <div class="specular-preview-container">
        <div id="ral-preview-canvas" class="ral-preview-canvas" role="img"
            aria-label="@Localizer["SpecularPreview", Model.Color.Number]" data-color-hex="@Model.Color.Hex"
            data-color-lrv="@(Model.Formats?.Lrv ?? 50)" data-undertone-hex="@(Model.Formats?.UndertoneHex ?? "")"
            data-undertone-strength="@(((int)(Model.Formats?.Undertone.Strength ?? UndertoneStrength.None)) / 4.0)">
        </div>

        <div class="specular-controls">
            <div class="control-group">
                <label>@Localizer["FinishLabel"]</label>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-secondary btn-icon" data-finish="matte"
                        title="@Localizer["FinishMatte"]">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="8" opacity="0.6" />
                        </svg>
                        <span>@Localizer["FinishMatte"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon active" data-finish="satin"
                        title="@Localizer["FinishSatin"]">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="8" />
                            <ellipse cx="9" cy="9" rx="3" ry="2" fill="white" opacity="0.3" />
                        </svg>
                        <span>@Localizer["FinishSatin"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-finish="gloss"
                        title="@Localizer["FinishGloss"]">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="8" />
                            <ellipse cx="9" cy="9" rx="4" ry="3" fill="white" opacity="0.5" />
                        </svg>
                        <span>@Localizer["FinishGloss"]</span>
                    </button>
                </div>
            </div>
            <div class="control-group">
                <label>@Localizer["ModelLabel"]</label>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-secondary btn-icon active" data-model="sphere"
                        title="@Localizer["ModelSphere"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="9" />
                            <ellipse cx="12" cy="12" rx="9" ry="4" />
                            <path d="M12 3v18" />
                        </svg>
                        <span>@Localizer["ModelSphere"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-model="bent-panel"
                        title="@Localizer["ModelBentPanel"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M3 16h12a2 2 0 0 0 2-2V6" />
                            <path d="M3 18h12a4 4 0 0 0 4-4V4" />
                        </svg>
                        <span>@Localizer["ModelBentPanel"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-model="curved-sample"
                        title="@Localizer["ModelCurvedSample"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M3 17c3-8 6 8 9 0s6 8 9 0" />
                        </svg>
                        <span>@Localizer["ModelCurvedSample"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-model="window-frame"
                        title="@Localizer["ModelWindow"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="3" y="3" width="18" height="18" rx="1" />
                            <line x1="12" y1="3" x2="12" y2="21" />
                            <line x1="3" y1="12" x2="21" y2="12" />
                        </svg>
                        <span>@Localizer["ModelWindow"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-model="door"
                        title="@Localizer["ModelDoor"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <rect x="4" y="2" width="16" height="20" rx="1" />
                            <circle cx="16" cy="12" r="1.5" fill="currentColor" />
                        </svg>
                        <span>@Localizer["ModelDoor"]</span>
                    </button>
                </div>
            </div>
            <div class="control-group">
                <label>@Localizer["LightingLabel"]</label>
                <div class="btn-group btn-group-sm">
                    <button type="button" class="btn btn-secondary btn-icon active" data-lighting="studio"
                        title="@Localizer["LightingStudio"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path
                                d="M9 18h6M10 22h4M12 2v1M4.22 4.22l.7.7M1 12h1M4.22 19.78l.7-.7M22 12h1M19.08 4.92l-.7.7M19.08 19.08l-.7-.7" />
                            <circle cx="12" cy="12" r="5" />
                        </svg>
                        <span>@Localizer["LightingStudio"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-lighting="morning"
                        title="@Localizer["LightingMorning"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path
                                d="M12 2v3M4.22 4.22l2.12 2.12M1 12h3M4.22 19.78l2.12-2.12M12 19v3M17.66 17.66l2.12 2.12M20 12h3M17.66 6.34l2.12-2.12" />
                            <circle cx="12" cy="12" r="4" fill="#ffd1a3" />
                        </svg>
                        <span>@Localizer["LightingMorning"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-lighting="midday"
                        title="@Localizer["LightingMidday"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <circle cx="12" cy="12" r="5" fill="#fff4e5" />
                            <path
                                d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
                        </svg>
                        <span>@Localizer["LightingMidday"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-lighting="golden"
                        title="@Localizer["LightingGolden"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M2 18h20" />
                            <circle cx="12" cy="14" r="5" fill="#ffb46b" />
                            <path d="M12 3v3M5.64 7.64l2.12 2.12M3 14h3M18.36 7.64l-2.12 2.12M18 14h3" />
                        </svg>
                        <span>@Localizer["LightingGolden"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-lighting="overcast"
                        title="@Localizer["LightingOvercast"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M18 10a4 4 0 00-8 0 3 3 0 00-3 3 3 3 0 003 3h8a3 3 0 003-3 3 3 0 00-3-3z"
                                fill="#ddeeff" />
                        </svg>
                        <span>@Localizer["LightingOvercast"]</span>
                    </button>
                    <button type="button" class="btn btn-secondary btn-icon" data-lighting="night"
                        title="@Localizer["LightingNight"]">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z" fill="#334466" />
                        </svg>
                        <span>@Localizer["LightingNight"]</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>

<hr>

<partial name="Shared/_ScenePreview"
    model="(Model.Color.Slug, Model.Color.Hex, Model.Color.Number, Model.Color.Name)" />

<hr>

<partial name="Shared/_LightingGradient"
    model="(Model.LightingVariations, Model.DirectSunlightVariations, Model.Color.Number, Model.Color.Name)" />

<hr>

<section class="contrast-section">
    <h2>@Localizer["ContrastComparison", Model.Color.Number]</h2>
    @{
        var contrastBackgrounds = new[] {
        ("#FFFFFF", "BgWhite"),
        ("#E0E0E0", "BgLightGrey"),
        ("#9E9E9E", "BgGrey"),
        ("#424242", "BgDarkGrey"),
        ("#000000", "BgBlack")
        };
    }
    <div class="contrast-strip">
        @foreach (var (bgColor, labelKey) in contrastBackgrounds)
        {
            <partial name="Shared/_ContrastSegment" model="(bgColor, Model.Color.Hex, Localizer[labelKey].Value)" />
        }
    </div>
    <div class="contrast-labels">
        @foreach (var (_, labelKey) in contrastBackgrounds)
        {
            <span>@Localizer[labelKey]</span>
        }
    </div>
</section>

<hr>

<section class="color-codes-section">
    <h2>@Localizer["ColorCodesTitle"]</h2>
    <table class="color-details">
        @* Primary color information *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z" />
                    <path d="M7 7h.01" />
                </svg>
                @Localizer["LabelName", Model.Color.Number]
            </th>
            <td>@(string.IsNullOrEmpty(Model.Color.Name) ? "—" : Model.Color.Name)</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z" />
                    <path d="M7 7h.01" />
                </svg>
                @Localizer["LabelNameDe", Model.Color.Number]
            </th>
            <td>@(string.IsNullOrEmpty(Model.Color.NameDe) ? "—" : Model.Color.NameDe)</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <circle cx="13.5" cy="6.5" r="0.5" fill="currentColor" />
                    <circle cx="17.5" cy="10.5" r="0.5" fill="currentColor" />
                    <circle cx="8.5" cy="7.5" r="0.5" fill="currentColor" />
                    <circle cx="6.5" cy="12.5" r="0.5" fill="currentColor" />
                    <path
                        d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.555C21.965 6.012 17.461 2 12 2Z" />
                </svg>
                @Localizer["LabelRootColor", Model.Color.Number]
            </th>
            <td>
                @if (Model.Color.RootColor != RootColor.Unknown)
                {
                    <span class="badge badge-@Model.Color.RootColor.ToString().ToLowerInvariant()">
                        @Localizer[$"RootColor{Model.Color.RootColor}"]
                    </span>
                }
                else
                {
                    <span>—</span>
                }
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z" />
                </svg>
                @Localizer["LabelUndertone", Model.Color.Number]
            </th>
            <td>
                @if (Model.Formats?.Undertone.Secondary != SecondaryUndertone.None)
                {
                    <div class="undertone-table-cell">
                        <div class="undertone-swatches">
                            <div class="undertone-swatch-pair">
                                <span class="undertone-swatch-color" style="background-color: @Model.Color.Hex;"></span>
                                <span class="undertone-swatch-arrow">→</span>
                                <span class="undertone-swatch-color" style="background-color: @Model.Formats?.UndertoneHex;"></span>
                            </div>
                        </div>
                        <span class="property-value">@Model.Formats?.UndertoneDescription</span>
                    </div>
                }
                else
                {
                    <span>@Localizer["UndertoneNeutral"]</span>
                }
            </td>
        </tr>
        @* Color codes *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <rect width="20" height="14" x="2" y="3" rx="2" />
                    <line x1="8" x2="16" y1="21" y2="21" />
                    <line x1="12" x2="12" y1="17" y2="21" />
                </svg>
                @Localizer["LabelRgbValues", Model.Color.Number]
            </th>
            <td>
                <div class="color-value-list">
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#ff0000;"></span> R</span> <span>@Model.Formats?.Rgb.R</span></span>
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#00ff00;"></span> G</span> <span>@Model.Formats?.Rgb.G</span></span>
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#0000ff;"></span> B</span> <span>@Model.Formats?.Rgb.B</span></span>
                </div>
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <polyline points="6 9 6 2 18 2 18 9" />
                    <path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2" />
                    <rect width="12" height="8" x="6" y="14" />
                </svg>
                @Localizer["LabelCmyk", Model.Color.Number]
            </th>
            <td>
                <div class="color-value-list">
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#00ffff;"></span> C</span> <span>@Model.Formats?.Cmyk.C%</span></span>
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#ff00ff;"></span> M</span> <span>@Model.Formats?.Cmyk.M%</span></span>
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#ffff00;"></span> Y</span> <span>@Model.Formats?.Cmyk.Y%</span></span>
                    <span class="color-value-row"><span class="color-dot-label"><span class="color-dot"
                                style="background:#000000;"></span> K</span> <span>@Model.Formats?.Cmyk.K%</span></span>
                </div>
            </td>
        </tr>
        @* Color properties with visualizations *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="m2 22 1-1h3l9-9" />
                    <path d="M3 21v-3l9-9" />
                    <circle cx="15" cy="6" r="3" />
                    <path d="m22 2-1.5 1.5" />
                </svg>
                @Localizer["PropHue"]
            </th>
            <td>
                <partial name="Shared/_HueDiagram" model="Model.Hue" />
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="m2 22 1-1h3l9-9" />
                    <path d="M3 21v-3l9-9" />
                    <circle cx="15" cy="6" r="3" />
                    <path d="m22 2-1.5 1.5" />
                </svg>
                @Localizer["PropSaturation"]
            </th>
            <td>
                <partial name="Shared/_SaturationBar" model="new SaturationBarModel(Model.Hue, Model.Saturation)" />
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <circle cx="12" cy="12" r="5" />
                    <path d="M12 1v2" />
                    <path d="M12 21v2" />
                </svg>
                @Localizer["PropLightness"]
            </th>
            <td>
                <partial name="Shared/_LightnessBar" model="new LightnessBarModel(Model.Hue, Model.Lightness)" />
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <circle cx="12" cy="12" r="4" />
                    <path d="M12 2v2" />
                    <path d="M12 20v2" />
                    <path d="m4.93 4.93 1.41 1.41" />
                    <path d="m17.66 17.66 1.41 1.41" />
                    <path d="M2 12h2" />
                    <path d="M20 12h2" />
                    <path d="m6.34 17.66-1.41 1.41" />
                    <path d="m19.07 4.93-1.41 1.41" />
                </svg>
                @Localizer["PropLrv"]
            </th>
            <td>
                <partial name="Shared/_LrvBar" model="new LrvBarModel(Model.Lrv)" />
            </td>
        </tr>
        @* CIE Lab components *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                CIE L*
            </th>
            <td>
                <partial name="Shared/_CieLabBar" model="@(new CieLabComponentModel("L", Model.Formats?.Lab.L ?? 0))" />
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                CIE a*
            </th>
            <td>
                <partial name="Shared/_CieLabBar" model="@(new CieLabComponentModel("a", Model.Formats?.Lab.a ?? 0))" />
            </td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                CIE b*
            </th>
            <td>
                <partial name="Shared/_CieLabBar" model="@(new CieLabComponentModel("b", Model.Formats?.Lab.b ?? 0))" />
            </td>
        </tr>
        @* Color temperature *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z" />
                </svg>
                @Localizer["PropTemperature"]
            </th>
            <td>
                <partial name="Shared/_TemperatureBadge"
                    model="new TemperatureBadgeModel(Model.Temperature.Kelvin, Model.Temperature.Classification)" />
            </td>
        </tr>
        @* Quick copy values *@
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="m2 22 1-1h3l9-9" />
                    <path d="M3 21v-3l9-9" />
                    <circle cx="15" cy="6" r="3" />
                    <path d="m22 2-1.5 1.5" />
                </svg>
                @Localizer["LabelHsl", Model.Color.Number]
            </th>
            <td>@Model.Formats?.HslString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                @Localizer["LabelCieLab", Model.Color.Number]
            </th>
            <td>@Model.Formats?.LabString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                @Localizer["LabelCieLuv", Model.Color.Number]
            </th>
            <td>@Model.Formats?.LuvString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M4.5 3h15" />
                    <path d="M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3" />
                    <path d="M6 14h12" />
                </svg>
                @Localizer["LabelHunterLab", Model.Color.Number]
            </th>
            <td>@Model.Formats?.HunterLabString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M12 3v18" />
                    <path d="M3 12h18" />
                    <path d="m4 4 16 16" />
                </svg>
                @Localizer["LabelXyz", Model.Color.Number]
            </th>
            <td>@Model.Formats?.XyzString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <rect width="20" height="15" x="2" y="7" rx="2" ry="2" />
                    <polyline points="17 2 12 7 7 2" />
                </svg>
                @Localizer["LabelYiq", Model.Color.Number]
            </th>
            <td>@Model.Formats?.YiqString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <rect x="14" y="14" width="4" height="6" rx="2" />
                    <rect x="6" y="4" width="4" height="16" rx="2" />
                    <path d="M6 4h4" />
                    <path d="M14 10h4" />
                </svg>
                @Localizer["LabelDecimal", Model.Color.Number]
            </th>
            <td>@Model.Formats?.Decimal</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <line x1="19" x2="5" y1="5" y2="19" />
                    <circle cx="6.5" cy="6.5" r="2.5" />
                    <circle cx="17.5" cy="17.5" r="2.5" />
                </svg>
                @Localizer["LabelRgbPercent", Model.Color.Number]
            </th>
            <td>@Model.Formats?.RgbPercentString</td>
        </tr>
        <tr>
            <th scope="row">
                <svg class="table-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="m2 22 1-1h3l9-9" />
                    <path d="M3 21v-3l9-9" />
                    <circle cx="15" cy="6" r="3" />
                    <path d="m22 2-1.5 1.5" />
                </svg>
                @Localizer["LabelHsv", Model.Color.Number]
            </th>
            <td>@Model.Formats?.HsvString</td>
        </tr>
    </table>
    <p class="mt-lg">
        <a asp-page="/ral-colors/Category" asp-route-culture="@Model.CurrentCulture"
            asp-route-category="@Model.CategorySlug" class="text-link">
            @Localizer["ExploreCategory", categoryName]
        </a>
    </p>
</section>

<hr>

<partial name="Shared/_CompareLinks" model="(Model.Color, Model.SameRootColors, Model.CurrentCulture)" />

@if (Model.SimilarColors.Any())
{
    <hr>
    <section class="similar-colors">
        <h2>@Localizer["SimilarColors", Model.Color.Number]</h2>
        <div class="similar-grid">
            @foreach (var similar in Model.SimilarColors)
            {
                <partial name="_ColorTile" model="similar.Color" />
            }
        </div>
        <p class="mt-lg">
            <a asp-page="/ral-colors/Index" asp-route-culture="@Model.CurrentCulture"
                asp-route-color="@Model.Color.RootColor.ToString().ToLowerInvariant()" class="text-link">
                @Localizer["ExploreSimilarShades", Localizer[$"RootColor{Model.Color.RootColor}"].Value]
            </a>
        </p>
    </section>
}

@if (Model.MoodSimilarColors.Any())
{
    <hr>
    <partial name="_SimilarByMood" model="Model.MoodSimilarColors" />
}

@{
    var faqUndertone = Model.Formats?.Undertone;
    var faqIsWarm = faqUndertone?.Primary == PrimaryUndertone.Warm;
    var faqIsCool = faqUndertone?.Primary == PrimaryUndertone.Cool;
}
<hr>
<partial name="Shared/_FaqSection"
    model="(Model.Color, Model.LocalizedName, Model.Lrv, Model.LrvLevel, Model.Temperature.Kelvin, Model.Formats?.UndertoneDescription, faqIsWarm, faqIsCool, Model.IsNeutralFamily, Model.SimilarColors, Model.CurrentCulture)" />

<hr>
<partial name="Shared/_LearnMetrics" />

<hr>

<section class="color-share-section">
    <h2>@Localizer["ColorImageTitle", Model.Color.Number]</h2>
    <figure class="color-share-image">
        <img src="/images/ral-colors/@(Model.Color.Slug).jpg"
            alt="@(string.IsNullOrEmpty(Model.Color.Name)
                                                                                                                                                                                                                                                                                                                                                                                    ? Localizer["ImageAltBasic", Model.Color.Number, Model.Color.Hex].Value
                                                                                                                                                                                                                                                                                                                                                                                    : Localizer["ImageAltWithName", Model.Color.Number, Model.Color.Name, Model.Color.Hex].Value)"
            width="1200" height="630" loading="lazy" />
        <figcaption>
            <button class="btn btn-sm btn-secondary copy-url-btn"
                data-url="@baseUrl/images/ral-colors/@(Model.Color.Slug).jpg"
                data-copied-text="@Localizer["CopiedToClipboard"]" onclick="DetailsPage.copyImageUrl(this)">
                @Localizer["CopyImageUrl"]
            </button>
        </figcaption>
    </figure>
</section>


<a asp-page="/ral-colors/Index" class="btn btn-ghost mt-xl" asp-route-culture="@RouteData.Values["culture"]">
    &larr; @Localizer["BackToColors"]
</a>

@section Scripts {
    <script src="~/js/details-page.js" asp-append-version="true" defer></script>
}

<partial name="Shared/_ColorPreviewModal" model="Model.Color" />