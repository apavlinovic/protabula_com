@page "/ral-colors/{colorIdentifier}"
@using Microsoft.AspNetCore.Mvc.Localization
@using protabula_com.Models
@model RalColorDetailsModel
@inject IViewLocalizer Localizer

<a asp-page="/ral-colors/Index" class="text-secondary" asp-route-culture="@RouteData.Values["culture"]">
    &larr; @Localizer["BackToColors"]
</a>

<div class="color @(Model.Color.NeedsDarkText ? "dark" : "")" style="background-color: @Model.Color.Hex;">
    <h2>
        RAL @Model.Color.Number
    </h2>
</div>

<table class="color-details">
    <tr>
        <th>@Localizer["LabelName"]</th>
        <td>@(string.IsNullOrEmpty(Model.Color.Name) ? "—" : Model.Color.Name)</td>
    </tr>
    <tr>
        <th>@Localizer["LabelNameDe"]</th>
        <td>@(string.IsNullOrEmpty(Model.Color.NameDe) ? "—" : Model.Color.NameDe)</td>
    </tr>
    <tr>
        <th>@Localizer["LabelRootColor"]</th>
        <td>
            @if (Model.Color.RootColor != RootColor.Unknown)
            {
                <span class="badge badge-@Model.Color.RootColor.ToString().ToLowerInvariant()">
                    @Localizer[$"RootColor{Model.Color.RootColor}"]
                </span>
            }
            else
            {
                <span>—</span>
            }
        </td>
    </tr>
    <tr>
        <th>@Localizer["LabelHex"]</th>
        <td><code>@Model.Color.Hex</code></td>
    </tr>
</table>


@if (Model.SimilarColors.Classic.Any() || Model.SimilarColors.DesignPlus.Any() || Model.SimilarColors.Effect.Any())
{
    <section class="similar-colors">
        <h2>@Localizer["SimilarColors"]</h2>

        @if (Model.SimilarColors.Classic.Any())
        {
            <h3>@Localizer["CategoryClassic"]</h3>
            <div class="similar-grid">
                @foreach (var similar in Model.SimilarColors.Classic)
                {
                    <a class="color-tile @(similar.Color.NeedsDarkText ? "dark" : "")"
                       style="background-color: @similar.Color.Hex;"
                       asp-page="/ral-colors/Details"
                       asp-route-culture="@RouteData.Values["culture"]"
                       asp-route-colorIdentifier="@similar.Color.Slug">
                        <span class="ral">RAL</span> 
                        <span class="number">@similar.Color.Number</span>
                        @if (!string.IsNullOrEmpty(similar.Color.Name))
                        {
                            <span class="name">@similar.Color.Name</span>
                        }
                    </a>
                }
            </div>
        }

        @if (Model.SimilarColors.DesignPlus.Any())
        {
            <h3>@Localizer["CategoryDesignPlus"]</h3>
            <div class="similar-grid">
                @foreach (var similar in Model.SimilarColors.DesignPlus)
                {
                    <a class="color-tile @(similar.Color.NeedsDarkText ? "dark" : "")"
                       style="background-color: @similar.Color.Hex;"
                       asp-page="/ral-colors/Details"
                       asp-route-culture="@RouteData.Values["culture"]"
                       asp-route-colorIdentifier="@similar.Color.Slug">
                        <span class="ral">RAL</span>
                        <span class="number">@similar.Color.Number</span>
                        @if (!string.IsNullOrEmpty(similar.Color.Name))
                        {
                            <span class="name">@similar.Color.Name</span>
                        }
                    </a>
                }
            </div>
        }

        @if (Model.SimilarColors.Effect.Any())
        {
            <h3>@Localizer["CategoryEffect"]</h3>
            <div class="similar-grid">
                @foreach (var similar in Model.SimilarColors.Effect)
                {
                    <a class="color-tile @(similar.Color.NeedsDarkText ? "dark" : "")"
                       style="background-color: @similar.Color.Hex;"
                       asp-page="/ral-colors/Details"
                       asp-route-culture="@RouteData.Values["culture"]"
                       asp-route-colorIdentifier="@similar.Color.Slug">
                        <span class="ral">RAL</span>
                        <span class="number">@similar.Color.Number</span>
                        @if (!string.IsNullOrEmpty(similar.Color.Name))
                        {
                            <span class="name">@similar.Color.Name</span>
                        }
                    </a>
                }
            </div>
        }
    </section>
}
